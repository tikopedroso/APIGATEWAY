<!DOCTYPE html>
<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\linkify-it\\index.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h5">
        <a href="#result-match-description">Result match description</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>index.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>;


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>//////////////////////////////////////////////////////////////////////////////
Helpers</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>Merge objects</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assign</span>(<span class="hljs-params">obj <span class="hljs-regexp">/*from1, from2, from3, ...*/</span></span>) </span>{
  <span class="hljs-keyword">var</span> sources = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);

  sources.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">source</span>) </span>{
    <span class="hljs-keyword">if</span> (!source) { <span class="hljs-keyword">return</span>; }

    <span class="hljs-built_in">Object</span>.keys(source).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
      obj[key] = source[key];
    });
  });

  <span class="hljs-keyword">return</span> obj;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_class</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(obj); }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isString</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> _class(obj) === <span class="hljs-string">'[object String]'</span>; }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isObject</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> _class(obj) === <span class="hljs-string">'[object Object]'</span>; }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isRegExp</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> _class(obj) === <span class="hljs-string">'[object RegExp]'</span>; }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFunction</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> _class(obj) === <span class="hljs-string">'[object Function]'</span>; }


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeRE</span>(<span class="hljs-params">str</span>) </span>{ <span class="hljs-keyword">return</span> str.replace(<span class="hljs-regexp">/[.?*+^$[\]\\(){}|-]/g</span>, <span class="hljs-string">'\\$&amp;'</span>); }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>//////////////////////////////////////////////////////////////////////////////</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">

<span class="hljs-keyword">var</span> defaultOptions = {
  <span class="hljs-attr">fuzzyLink</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">fuzzyEmail</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">fuzzyIP</span>: <span class="hljs-literal">false</span>
};


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isOptionsObj</span>(<span class="hljs-params">obj</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(obj || {}).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">acc, k</span>) </span>{
    <span class="hljs-keyword">return</span> acc || defaultOptions.hasOwnProperty(k);
  }, <span class="hljs-literal">false</span>);
}


<span class="hljs-keyword">var</span> defaultSchemas = {
  <span class="hljs-string">'http:'</span>: {
    <span class="hljs-attr">validate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">text, pos, self</span>) </span>{
      <span class="hljs-keyword">var</span> tail = text.slice(pos);

      <span class="hljs-keyword">if</span> (!self.re.http) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>compile lazily, because &quot;host&quot;-containing variables can change on tlds update.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        self.re.http =  <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(
          <span class="hljs-string">'^\\/\\/'</span> + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, <span class="hljs-string">'i'</span>
        );
      }
      <span class="hljs-keyword">if</span> (self.re.http.test(tail)) {
        <span class="hljs-keyword">return</span> tail.match(self.re.http)[<span class="hljs-number">0</span>].length;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
  },
  <span class="hljs-string">'https:'</span>:  <span class="hljs-string">'http:'</span>,
  <span class="hljs-string">'ftp:'</span>:    <span class="hljs-string">'http:'</span>,
  <span class="hljs-string">'//'</span>:      {
    <span class="hljs-attr">validate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">text, pos, self</span>) </span>{
      <span class="hljs-keyword">var</span> tail = text.slice(pos);

      <span class="hljs-keyword">if</span> (!self.re.no_http) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>compile lazily, because &quot;host&quot;-containing variables can change on tlds update.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        self.re.no_http =  <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(
          <span class="hljs-string">'^'</span> +
          self.re.src_auth +
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>Don't allow single-level domains, because of false positives like '//test'
with code comments</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-string">'(?:localhost|(?:(?:'</span> + self.re.src_domain + <span class="hljs-string">')\\.)+'</span> + self.re.src_domain_root + <span class="hljs-string">')'</span> +
          self.re.src_port +
          self.re.src_host_terminator +
          self.re.src_path,

          <span class="hljs-string">'i'</span>
        );
      }

      <span class="hljs-keyword">if</span> (self.re.no_http.test(tail)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>should not be <code>://</code> &amp; <code>///</code>, that protects from errors in protocol name</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (pos &gt;= <span class="hljs-number">3</span> &amp;&amp; text[pos - <span class="hljs-number">3</span>] === <span class="hljs-string">':'</span>) { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
        <span class="hljs-keyword">if</span> (pos &gt;= <span class="hljs-number">3</span> &amp;&amp; text[pos - <span class="hljs-number">3</span>] === <span class="hljs-string">'/'</span>) { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
        <span class="hljs-keyword">return</span> tail.match(self.re.no_http)[<span class="hljs-number">0</span>].length;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
  },
  <span class="hljs-string">'mailto:'</span>: {
    <span class="hljs-attr">validate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">text, pos, self</span>) </span>{
      <span class="hljs-keyword">var</span> tail = text.slice(pos);

      <span class="hljs-keyword">if</span> (!self.re.mailto) {
        self.re.mailto =  <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(
          <span class="hljs-string">'^'</span> + self.re.src_email_name + <span class="hljs-string">'@'</span> + self.re.src_host_strict, <span class="hljs-string">'i'</span>
        );
      }
      <span class="hljs-keyword">if</span> (self.re.mailto.test(tail)) {
        <span class="hljs-keyword">return</span> tail.match(self.re.mailto)[<span class="hljs-number">0</span>].length;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
  }
};

<span class="hljs-comment">/*eslint-disable max-len*/</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> tlds_2ch_src_re = <span class="hljs-string">'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> tlds_default = <span class="hljs-string">'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф'</span>.split(<span class="hljs-string">'|'</span>);

<span class="hljs-comment">/*eslint-enable max-len*/</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>//////////////////////////////////////////////////////////////////////////////</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetScanCache</span>(<span class="hljs-params">self</span>) </span>{
  self.__index__ = <span class="hljs-number">-1</span>;
  self.__text_cache__   = <span class="hljs-string">''</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createValidator</span>(<span class="hljs-params">re</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">text, pos</span>) </span>{
    <span class="hljs-keyword">var</span> tail = text.slice(pos);

    <span class="hljs-keyword">if</span> (re.test(tail)) {
      <span class="hljs-keyword">return</span> tail.match(re)[<span class="hljs-number">0</span>].length;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  };
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createNormalizer</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">match, self</span>) </span>{
    self.normalize(match);
  };
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>Schemas compiler. Build regexps.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compile</span>(<span class="hljs-params">self</span>) </span>{

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>Load &amp; clone RE patterns.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> re = self.re = assign({}, <span class="hljs-built_in">require</span>(<span class="hljs-string">'./lib/re'</span>));

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>Define dynamic patterns</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> tlds = self.__tlds__.slice();

  <span class="hljs-keyword">if</span> (!self.__tlds_replaced__) {
    tlds.push(tlds_2ch_src_re);
  }
  tlds.push(re.src_xn);

  re.src_tlds = tlds.join(<span class="hljs-string">'|'</span>);

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">untpl</span>(<span class="hljs-params">tpl</span>) </span>{ <span class="hljs-keyword">return</span> tpl.replace(<span class="hljs-string">'%TLDS%'</span>, re.src_tlds); }

  re.email_fuzzy      = <span class="hljs-built_in">RegExp</span>(untpl(re.tpl_email_fuzzy), <span class="hljs-string">'i'</span>);
  re.link_fuzzy       = <span class="hljs-built_in">RegExp</span>(untpl(re.tpl_link_fuzzy), <span class="hljs-string">'i'</span>);
  re.link_no_ip_fuzzy = <span class="hljs-built_in">RegExp</span>(untpl(re.tpl_link_no_ip_fuzzy), <span class="hljs-string">'i'</span>);
  re.host_fuzzy_test  = <span class="hljs-built_in">RegExp</span>(untpl(re.tpl_host_fuzzy_test), <span class="hljs-string">'i'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>Compile each schema</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
  <span class="hljs-keyword">var</span> aliases = [];

  self.__compiled__ = {}; <span class="hljs-comment">// Reset compiled data</span>

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">schemaError</span>(<span class="hljs-params">name, val</span>) </span>{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'(LinkifyIt) Invalid schema "'</span> + name + <span class="hljs-string">'": '</span> + val);
  }

  <span class="hljs-built_in">Object</span>.keys(self.__schemas__).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> val = self.__schemas__[name];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>skip disabled methods</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (val === <span class="hljs-literal">null</span>) { <span class="hljs-keyword">return</span>; }

    <span class="hljs-keyword">var</span> compiled = { <span class="hljs-attr">validate</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">link</span>: <span class="hljs-literal">null</span> };

    self.__compiled__[name] = compiled;

    <span class="hljs-keyword">if</span> (isObject(val)) {
      <span class="hljs-keyword">if</span> (isRegExp(val.validate)) {
        compiled.validate = createValidator(val.validate);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isFunction(val.validate)) {
        compiled.validate = val.validate;
      } <span class="hljs-keyword">else</span> {
        schemaError(name, val);
      }

      <span class="hljs-keyword">if</span> (isFunction(val.normalize)) {
        compiled.normalize = val.normalize;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!val.normalize) {
        compiled.normalize = createNormalizer();
      } <span class="hljs-keyword">else</span> {
        schemaError(name, val);
      }

      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">if</span> (isString(val)) {
      aliases.push(name);
      <span class="hljs-keyword">return</span>;
    }

    schemaError(name, val);
  });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>Compile postponed aliases</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
  aliases.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">alias</span>) </span>{
    <span class="hljs-keyword">if</span> (!self.__compiled__[self.__schemas__[alias]]) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>Silently fail on missed schemas to avoid errons on disable.
schemaError(alias, self.<strong>schemas</strong>[alias]);</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">return</span>;
    }

    self.__compiled__[alias].validate =
      self.__compiled__[self.__schemas__[alias]].validate;
    self.__compiled__[alias].normalize =
      self.__compiled__[self.__schemas__[alias]].normalize;
  });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>Fake record for guessed links</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  self.__compiled__[<span class="hljs-string">''</span>] = { <span class="hljs-attr">validate</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">normalize</span>: createNormalizer() };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>Build schema condition</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> slist = <span class="hljs-built_in">Object</span>.keys(self.__compiled__)
                      .filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>Filter disabled &amp; fake schemas</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        <span class="hljs-keyword">return</span> name.length &gt; <span class="hljs-number">0</span> &amp;&amp; self.__compiled__[name];
                      })
                      .map(escapeRE)
                      .join(<span class="hljs-string">'|'</span>);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>(?!_) cause 1.5x slowdown</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  self.re.schema_test   = <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'(^|(?!_)(?:[&gt;&lt;]|'</span> + re.src_ZPCc + <span class="hljs-string">'))('</span> + slist + <span class="hljs-string">')'</span>, <span class="hljs-string">'i'</span>);
  self.re.schema_search = <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'(^|(?!_)(?:[&gt;&lt;]|'</span> + re.src_ZPCc + <span class="hljs-string">'))('</span> + slist + <span class="hljs-string">')'</span>, <span class="hljs-string">'ig'</span>);

  self.re.pretest       = <span class="hljs-built_in">RegExp</span>(
                            <span class="hljs-string">'('</span> + self.re.schema_test.source + <span class="hljs-string">')|'</span> +
                            <span class="hljs-string">'('</span> + self.re.host_fuzzy_test.source + <span class="hljs-string">')|'</span> +
                            <span class="hljs-string">'@'</span>,
                            <span class="hljs-string">'i'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>Cleanup</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
  resetScanCache(self);
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<div class="dox">
<div class="summary">
<p>class Match</p>
</div>
<div class="body">
<p>Match result. Single element of array, returned by [[LinkifyIt#match]]</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Match</span>(<span class="hljs-params">self, shift</span>) </span>{
  <span class="hljs-keyword">var</span> start = self.__index__,
      end   = self.__last_index__,
      text  = self.__text_cache__.slice(start, end);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<div class="dox">
<div class="summary">
<p>Match#schema -&gt; String</p>
</div>
<div class="body">
<p>Prefix (protocol) for matched string.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.schema    = self.__schema__.toLowerCase();
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<div class="dox">
<div class="summary">
<p>Match#index -&gt; Number</p>
</div>
<div class="body">
<p>First position of matched string.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.index     = start + shift;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<div class="dox">
<div class="summary">
<p>Match#lastIndex -&gt; Number</p>
</div>
<div class="body">
<p>Next position after matched string.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.lastIndex = end + shift;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<div class="dox">
<div class="summary">
<p>Match#raw -&gt; String</p>
</div>
<div class="body">
<p>Matched string.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.raw       = text;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<div class="dox">
<div class="summary">
<p>Match#text -&gt; String</p>
</div>
<div class="body">
<p>Notmalized text of matched string.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.text      = text;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<div class="dox">
<div class="summary">
<p>Match#url -&gt; String</p>
</div>
<div class="body">
<p>Normalized url of matched string.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.url       = text;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createMatch</span>(<span class="hljs-params">self, shift</span>) </span>{
  <span class="hljs-keyword">var</span> match = <span class="hljs-keyword">new</span> Match(self, shift);

  self.__compiled__[match.schema].normalize(match, self);

  <span class="hljs-keyword">return</span> match;
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<div class="dox">
<div class="summary">
<p>class LinkifyIt</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<div class="dox">
<div class="summary">
<p>new LinkifyIt(schemas, options)</p>
<ul>
<li>schemas (Object): Optional. Additional schemas to validate (prefix/validator)</li>
<li>options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }</li>
</ul>
</div>
<div class="body">
<p>Creates new linkifier instance with optional additional schemas.
Can be called without <code>new</code> keyword for convenience.</p>
<p>By default understands:</p>
<ul>
<li><code>http(s)://...</code> , <code>ftp://...</code>, <code>mailto:...</code> &amp; <code>//...</code> links</li>
<li>&quot;fuzzy&quot; links and emails (example.com, foo@bar.com).</li>
</ul>
<p><code>schemas</code> is an object, where each key/value describes protocol/rule:</p>
<ul>
<li><strong>key</strong> - link prefix (usually, protocol name with <code>:</code> at the end, <code>skype:</code>
for example). <code>linkify-it</code> makes shure that prefix is not preceeded with
alphanumeric char and symbols. Only whitespaces and punctuation allowed.</li>
<li><strong>value</strong> - rule to check tail after link prefix
<ul>
<li><em>String</em> - just alias to existing rule</li>
<li><em>Object</em>
<ul>
<li><em>validate</em> - validator function (should return matched length on success),
or <code>RegExp</code>.</li>
<li><em>normalize</em> - optional function to normalize text &amp; url of matched result
(for example, for @twitter mentions).</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><code>options</code>:</p>
<ul>
<li><strong>fuzzyLink</strong> - recognige URL-s without <code>http(s):</code> prefix. Default <code>true</code>.</li>
<li><strong>fuzzyIP</strong> - allow IPs in fuzzy links above. Can conflict with some texts
like version numbers. Default <code>false</code>.</li>
<li><strong>fuzzyEmail</strong> - recognize emails without <code>mailto:</code> prefix.</li>
</ul>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LinkifyIt</span>(<span class="hljs-params">schemas, options</span>) </span>{
  <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> LinkifyIt)) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> LinkifyIt(schemas, options);
  }

  <span class="hljs-keyword">if</span> (!options) {
    <span class="hljs-keyword">if</span> (isOptionsObj(schemas)) {
      options = schemas;
      schemas = {};
    }
  }

  <span class="hljs-keyword">this</span>.__opts__           = assign({}, defaultOptions, options);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>Cache last tested result. Used to skip repeating steps on next <code>match</code> call.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.__index__          = <span class="hljs-number">-1</span>;
  <span class="hljs-keyword">this</span>.__last_index__     = <span class="hljs-number">-1</span>; <span class="hljs-comment">// Next scan position</span>
  <span class="hljs-keyword">this</span>.__schema__         = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">this</span>.__text_cache__     = <span class="hljs-string">''</span>;

  <span class="hljs-keyword">this</span>.__schemas__        = assign({}, defaultSchemas, schemas);
  <span class="hljs-keyword">this</span>.__compiled__       = {};

  <span class="hljs-keyword">this</span>.__tlds__           = tlds_default;
  <span class="hljs-keyword">this</span>.__tlds_replaced__  = <span class="hljs-literal">false</span>;

  <span class="hljs-keyword">this</span>.re = {};

  compile(<span class="hljs-keyword">this</span>);
}


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<div class="dox">
<div class="summary">
<p>chainable
LinkifyIt#add(schema, definition)</p>
<ul>
<li>schema (String): rule name (fixed pattern prefix)</li>
<li>definition (String|RegExp|Object): schema definition</li>
</ul>
</div>
<div class="body">
<p>Add new rule definition. See constructor description for details.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">schema, definition</span>) </span>{
  <span class="hljs-keyword">this</span>.__schemas__[schema] = definition;
  compile(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<div class="dox">
<div class="summary">
<p>chainable
LinkifyIt#set(options)</p>
<ul>
<li>options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }</li>
</ul>
</div>
<div class="body">
<p>Set recognition options for links without schema.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.set = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params">options</span>) </span>{
  <span class="hljs-keyword">this</span>.__opts__ = assign(<span class="hljs-keyword">this</span>.__opts__, options);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<div class="dox">
<div class="summary">
<p>LinkifyIt#test(text) -&gt; Boolean</p>
</div>
<div class="body">
<p>Searches linkifiable pattern and returns <code>true</code> on success or <code>false</code> on fail.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.test = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">text</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>Reset scan cache</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">this</span>.__text_cache__ = text;
  <span class="hljs-keyword">this</span>.__index__      = <span class="hljs-number">-1</span>;

  <span class="hljs-keyword">if</span> (!text.length) { <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }

  <span class="hljs-keyword">var</span> m, ml, me, len, shift, next, re, tld_pos, at_pos;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<p>try to scan for link with schema - that's the most simple rule</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.re.schema_test.test(text)) {
    re = <span class="hljs-keyword">this</span>.re.schema_search;
    re.lastIndex = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> ((m = re.exec(text)) !== <span class="hljs-literal">null</span>) {
      len = <span class="hljs-keyword">this</span>.testSchemaAt(text, m[<span class="hljs-number">2</span>], re.lastIndex);
      <span class="hljs-keyword">if</span> (len) {
        <span class="hljs-keyword">this</span>.__schema__     = m[<span class="hljs-number">2</span>];
        <span class="hljs-keyword">this</span>.__index__      = m.index + m[<span class="hljs-number">1</span>].length;
        <span class="hljs-keyword">this</span>.__last_index__ = m.index + m[<span class="hljs-number">0</span>].length + len;
        <span class="hljs-keyword">break</span>;
      }
    }
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__opts__.fuzzyLink &amp;&amp; <span class="hljs-keyword">this</span>.__compiled__[<span class="hljs-string">'http:'</span>]) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<p>guess schemaless links</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    tld_pos = text.search(<span class="hljs-keyword">this</span>.re.host_fuzzy_test);
    <span class="hljs-keyword">if</span> (tld_pos &gt;= <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>if tld is located after found link - no need to check fuzzy pattern</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__index__ &lt; <span class="hljs-number">0</span> || tld_pos &lt; <span class="hljs-keyword">this</span>.__index__) {
        <span class="hljs-keyword">if</span> ((ml = text.match(<span class="hljs-keyword">this</span>.__opts__.fuzzyIP ? <span class="hljs-keyword">this</span>.re.link_fuzzy : <span class="hljs-keyword">this</span>.re.link_no_ip_fuzzy)) !== <span class="hljs-literal">null</span>) {

          shift = ml.index + ml[<span class="hljs-number">1</span>].length;

          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__index__ &lt; <span class="hljs-number">0</span> || shift &lt; <span class="hljs-keyword">this</span>.__index__) {
            <span class="hljs-keyword">this</span>.__schema__     = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">this</span>.__index__      = shift;
            <span class="hljs-keyword">this</span>.__last_index__ = ml.index + ml[<span class="hljs-number">0</span>].length;
          }
        }
      }
    }
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__opts__.fuzzyEmail &amp;&amp; <span class="hljs-keyword">this</span>.__compiled__[<span class="hljs-string">'mailto:'</span>]) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<p>guess schemaless emails</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    at_pos = text.indexOf(<span class="hljs-string">'@'</span>);
    <span class="hljs-keyword">if</span> (at_pos &gt;= <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>We can't skip this check, because this cases are possible:
192.168.1.1@gmail.com, my.in@example.com</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> ((me = text.match(<span class="hljs-keyword">this</span>.re.email_fuzzy)) !== <span class="hljs-literal">null</span>) {

        shift = me.index + me[<span class="hljs-number">1</span>].length;
        next  = me.index + me[<span class="hljs-number">0</span>].length;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__index__ &lt; <span class="hljs-number">0</span> || shift &lt; <span class="hljs-keyword">this</span>.__index__ ||
            (shift === <span class="hljs-keyword">this</span>.__index__ &amp;&amp; next &gt; <span class="hljs-keyword">this</span>.__last_index__)) {
          <span class="hljs-keyword">this</span>.__schema__     = <span class="hljs-string">'mailto:'</span>;
          <span class="hljs-keyword">this</span>.__index__      = shift;
          <span class="hljs-keyword">this</span>.__last_index__ = next;
        }
      }
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.__index__ &gt;= <span class="hljs-number">0</span>;
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<div class="dox">
<div class="summary">
<p>LinkifyIt#pretest(text) -&gt; Boolean</p>
</div>
<div class="body">
<p>Very quick check, that can give false positives. Returns true if link MAY BE
can exists. Can be used for speed optimization, when you need to check that
link NOT exists.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.pretest = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pretest</span>(<span class="hljs-params">text</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.re.pretest.test(text);
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<div class="dox">
<div class="summary">
<p>LinkifyIt#testSchemaAt(text, name, position) -&gt; Number</p>
<ul>
<li>text (String): text to scan</li>
<li>name (String): rule (schema) name</li>
<li>position (Number): text offset to check from</li>
</ul>
</div>
<div class="body">
<p>Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly
at given position. Returns length of found pattern (0 on fail).</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.testSchemaAt = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testSchemaAt</span>(<span class="hljs-params">text, schema, pos</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p>If not supported schema check requested - terminate</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.__compiled__[schema.toLowerCase()]) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.__compiled__[schema.toLowerCase()].validate(text, pos, <span class="hljs-keyword">this</span>);
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<p>LinkifyIt#match(text) -&gt; Array|null</p>
</div>
<div class="body">
<p>Returns array of found link descriptions or <code>null</code> on fail. We strongly
recommend to use [[LinkifyIt#test]] first, for best speed.</p>
<div class="pilwrap" id="result-match-description">
  <h5>
    <a href="#result-match-description" name="result-match-description" class="pilcrow"></a>
Result match description
  </h5>
</div>
<ul>
<li><strong>schema</strong> - link schema, can be empty for fuzzy links, or <code>//</code> for
protocol-neutral  links.</li>
<li><strong>index</strong> - offset of matched text</li>
<li><strong>lastIndex</strong> - index of next char after mathch end</li>
<li><strong>raw</strong> - matched text</li>
<li><strong>text</strong> - normalized text</li>
<li><strong>url</strong> - link, generated from matched text</li>
</ul>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.match = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">match</span>(<span class="hljs-params">text</span>) </span>{
  <span class="hljs-keyword">var</span> shift = <span class="hljs-number">0</span>, result = [];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>Try to take previous element from cache, if .test() called before</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.__index__ &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.__text_cache__ === text) {
    result.push(createMatch(<span class="hljs-keyword">this</span>, shift));
    shift = <span class="hljs-keyword">this</span>.__last_index__;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>Cut head if cache was used</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">var</span> tail = shift ? text.slice(shift) : text;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>Scan string until end reached</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.test(tail)) {
    result.push(createMatch(<span class="hljs-keyword">this</span>, shift));

    tail = tail.slice(<span class="hljs-keyword">this</span>.__last_index__);
    shift += <span class="hljs-keyword">this</span>.__last_index__;
  }

  <span class="hljs-keyword">if</span> (result.length) {
    <span class="hljs-keyword">return</span> result;
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
};


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<div class="dox">
<div class="summary">
<p>chainable
LinkifyIt#tlds(list [, keepOld]) -&gt; this</p>
<ul>
<li>list (Array): list of tlds</li>
<li>keepOld (Boolean): merge with current list if <code>true</code> (<code>false</code> by default)</li>
</ul>
</div>
<div class="body">
<p>Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)
to avoid false positives. By default this algorythm used:</p>
<ul>
<li>hostname with any 2-letter root zones are ok.</li>
<li>biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф
are ok.</li>
<li>encoded (<code>xn--...</code>) root zones are ok.</li>
</ul>
<p>If list is replaced, then exact match for 2-chars root zones will be checked.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.tlds = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tlds</span>(<span class="hljs-params">list, keepOld</span>) </span>{
  list = <span class="hljs-built_in">Array</span>.isArray(list) ? list : [ list ];

  <span class="hljs-keyword">if</span> (!keepOld) {
    <span class="hljs-keyword">this</span>.__tlds__ = list.slice();
    <span class="hljs-keyword">this</span>.__tlds_replaced__ = <span class="hljs-literal">true</span>;
    compile(<span class="hljs-keyword">this</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  <span class="hljs-keyword">this</span>.__tlds__ = <span class="hljs-keyword">this</span>.__tlds__.concat(list)
                                  .sort()
                                  .filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, idx, arr</span>) </span>{
                                    <span class="hljs-keyword">return</span> el !== arr[idx - <span class="hljs-number">1</span>];
                                  })
                                  .reverse();

  compile(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<div class="dox">
<div class="summary">
<p>LinkifyIt#normalize(match)</p>
</div>
<div class="body">
<p>Default normalizer (if schema does not define it's own).</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">LinkifyIt.prototype.normalize = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalize</span>(<span class="hljs-params">match</span>) </span>{

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>Do minimal possible changes by default. Need to collect feedback prior
to move forward https://github.com/markdown-it/linkify-it/issues/1</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
  <span class="hljs-keyword">if</span> (!match.schema) { match.url = <span class="hljs-string">'http://'</span> + match.url; }

  <span class="hljs-keyword">if</span> (match.schema === <span class="hljs-string">'mailto:'</span> &amp;&amp; !<span class="hljs-regexp">/^mailto:/i</span>.test(match.url)) {
    match.url = <span class="hljs-string">'mailto:'</span> + match.url;
  }
};


<span class="hljs-built_in">module</span>.exports = LinkifyIt;

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
