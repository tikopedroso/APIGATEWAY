<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules\\tweetnacl\\README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#tweetnacl.js">TweetNaCl.js</a>
      </div>

      <div class="heading h1">
        <a href="#documentation">Documentation</a>
      </div>

      <div class="heading h2">
        <a href="#overview">Overview</a>
      </div>

      <div class="heading h2">
        <a href="#installation">Installation</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h3">
        <a href="#public-key-authenticated-encryption-box">Public-key authenticated encryption (box)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.keypair">nacl.box.keyPair()</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.keypair.fromsecretkey-secretkey">nacl.box.keyPair.fromSecretKey(secretKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box-message-nonce-theirpublickey-mysecretkey">nacl.box(message, nonce, theirPublicKey, mySecretKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.open-box-nonce-theirpublickey-mysecretkey">nacl.box.open(box, nonce, theirPublicKey, mySecretKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.before-theirpublickey-mysecretkey">nacl.box.before(theirPublicKey, mySecretKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.after-message-nonce-sharedkey">nacl.box.after(message, nonce, sharedKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.open.after-box-nonce-sharedkey">nacl.box.open.after(box, nonce, sharedKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.publickeylength-32">nacl.box.publicKeyLength = 32</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.secretkeylength-32">nacl.box.secretKeyLength = 32</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.sharedkeylength-32">nacl.box.sharedKeyLength = 32</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.noncelength-24">nacl.box.nonceLength = 24</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.box.overheadlength-16">nacl.box.overheadLength = 16</a>
      </div>

      <div class="heading h3">
        <a href="#secret-key-authenticated-encryption-secretbox">Secret-key authenticated encryption (secretbox)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.secretbox-message-nonce-key">nacl.secretbox(message, nonce, key)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.secretbox.open-box-nonce-key">nacl.secretbox.open(box, nonce, key)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.secretbox.keylength-32">nacl.secretbox.keyLength = 32</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.secretbox.noncelength-24">nacl.secretbox.nonceLength = 24</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.secretbox.overheadlength-16">nacl.secretbox.overheadLength = 16</a>
      </div>

      <div class="heading h3">
        <a href="#scalar-multiplication">Scalar multiplication</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.scalarmult-n-p">nacl.scalarMult(n, p)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.scalarmult.base-n">nacl.scalarMult.base(n)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.scalarmult.scalarlength-32">nacl.scalarMult.scalarLength = 32</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.scalarmult.groupelementlength-32">nacl.scalarMult.groupElementLength = 32</a>
      </div>

      <div class="heading h3">
        <a href="#signatures">Signatures</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.keypair">nacl.sign.keyPair()</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.keypair.fromsecretkey-secretkey">nacl.sign.keyPair.fromSecretKey(secretKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.keypair.fromseed-seed">nacl.sign.keyPair.fromSeed(seed)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign-message-secretkey">nacl.sign(message, secretKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.open-signedmessage-publickey">nacl.sign.open(signedMessage, publicKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.detached-message-secretkey">nacl.sign.detached(message, secretKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.detached.verify-message-signature-publickey">nacl.sign.detached.verify(message, signature, publicKey)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.publickeylength-32">nacl.sign.publicKeyLength = 32</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.secretkeylength-64">nacl.sign.secretKeyLength = 64</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.seedlength-32">nacl.sign.seedLength = 32</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.sign.signaturelength-64">nacl.sign.signatureLength = 64</a>
      </div>

      <div class="heading h3">
        <a href="#hashing">Hashing</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.hash-message">nacl.hash(message)</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.hash.hashlength-64">nacl.hash.hashLength = 64</a>
      </div>

      <div class="heading h3">
        <a href="#random-bytes-generation">Random bytes generation</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.randombytes-length">nacl.randomBytes(length)</a>
      </div>

      <div class="heading h3">
        <a href="#constant-time-comparison">Constant-time comparison</a>
      </div>

      <div class="heading h4">
        <a href="#nacl.verify-x-y">nacl.verify(x, y)</a>
      </div>

      <div class="heading h2">
        <a href="#system-requirements">System requirements</a>
      </div>

      <div class="heading h2">
        <a href="#development-and-testing">Development and testing</a>
      </div>

      <div class="heading h3">
        <a href="#testing">Testing</a>
      </div>

      <div class="heading h3">
        <a href="#benchmarking">Benchmarking</a>
      </div>

      <div class="heading h2">
        <a href="#benchmarks">Benchmarks</a>
      </div>

      <div class="heading h2">
        <a href="#contributors">Contributors</a>
      </div>

      <div class="heading h2">
        <a href="#third-party-libraries-based-on-tweetnacl.js">Third-party libraries based on TweetNaCl.js</a>
      </div>

      <div class="heading h2">
        <a href="#who-uses-it">Who uses it</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="tweetnacl.js">
  <h1>
    <a href="#tweetnacl.js" name="tweetnacl.js" class="pilcrow"></a>
TweetNaCl.js
  </h1>
</div>
<p>Port of <a href="http://tweetnacl.cr.yp.to">TweetNaCl</a> / <a href="http://nacl.cr.yp.to/">NaCl</a>
to JavaScript for modern browsers and Node.js. Public domain.</p>
<p><a href="https://travis-ci.org/dchest/tweetnacl-js"><img src="https://travis-ci.org/dchest/tweetnacl-js.svg?branch=master" alt="Build Status">
</a></p>
<p>Demo: <a href="https://tweetnacl.js.org">https://tweetnacl.js.org</a></p>
<p><strong>:warning: The library is stable and API is frozen, however it has not been
independently reviewed. If you can help reviewing it, please <a href="mailto:dmitry@codingrobots.com.html">contact
me</a>.</strong></p>
<div class="pilwrap" id="documentation">
  <h1>
    <a href="#documentation" name="documentation" class="pilcrow"></a>
Documentation
  </h1>
</div>
<ul>
<li><a href="#overview.html">Overview</a></li>
<li><a href="#installation.html">Installation</a></li>
<li><a href="#usage.html">Usage</a>
<ul>
<li><a href="#public-key-authenticated-encryption-box.html">Public-key authenticated encryption (box)</a></li>
<li><a href="#secret-key-authenticated-encryption-secretbox.html">Secret-key authenticated encryption (secretbox)</a></li>
<li><a href="#scalar-multiplication.html">Scalar multiplication</a></li>
<li><a href="#signatures.html">Signatures</a></li>
<li><a href="#hashing.html">Hashing</a></li>
<li><a href="#random-bytes-generation.html">Random bytes generation</a></li>
<li><a href="#constant-time-comparison.html">Constant-time comparison</a></li>
</ul>
</li>
<li><a href="#system-requirements.html">System requirements</a></li>
<li><a href="#development-and-testing.html">Development and testing</a></li>
<li><a href="#benchmarks.html">Benchmarks</a></li>
<li><a href="#contributors.html">Contributors</a></li>
<li><a href="#who-uses-it.html">Who uses it</a></li>
</ul>
<div class="pilwrap" id="overview">
  <h2>
    <a href="#overview" name="overview" class="pilcrow"></a>
Overview
  </h2>
</div>
<p>The primary goal of this project is to produce a translation of TweetNaCl to
JavaScript which is as close as possible to the original C implementation, plus
a thin layer of idiomatic high-level API on top of it.</p>
<p>There are two versions, you can use either of them:</p>
<ul>
<li>
<p><code>nacl.js</code> is the port of TweetNaCl with minimum differences from the
original + high-level API.</p>
</li>
<li>
<p><code>nacl-fast.js</code> is like <code>nacl.js</code>, but with some functions replaced with
faster versions.</p>
</li>
</ul>
<div class="pilwrap" id="installation">
  <h2>
    <a href="#installation" name="installation" class="pilcrow"></a>
Installation
  </h2>
</div>
<p>You can install TweetNaCl.js via a package manager:</p>
<p><a href="http://bower.io">Bower</a>:</p>
<pre><code>$ bower install tweetnacl
</code></pre>
<p><a href="https://www.npmjs.org/">NPM</a>:</p>
<pre><code>$ npm install tweetnacl
</code></pre>
<p>or <a href="https://github.com/dchest/tweetnacl-js/releases">download source code</a>.</p>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p>All API functions accept and return bytes as <code>Uint8Array</code>s.  If you need to
encode or decode strings, use functions from
<a href="https://github.com/dchest/tweetnacl-util-js">https://github.com/dchest/tweetnacl-util-js</a> or one of the more robust codec
packages.</p>
<p>In Node.js v4 and later <code>Buffer</code> objects are backed by <code>Uint8Array</code>s, so you
can freely pass them to TweetNaCl.js functions as arguments. The returned
objects are still <code>Uint8Array</code>s, so if you need <code>Buffer</code>s, you'll have to
convert them manually; make sure to convert using copying: <code>new Buffer(array)</code>,
instead of sharing: <code>new Buffer(array.buffer)</code>, because some functions return
subarrays of their buffers.</p>
<div class="pilwrap" id="public-key-authenticated-encryption-box">
  <h3>
    <a href="#public-key-authenticated-encryption-box" name="public-key-authenticated-encryption-box" class="pilcrow"></a>
Public-key authenticated encryption (box)
  </h3>
</div>
<p>Implements <em>curve25519-xsalsa20-poly1305</em>.</p>
<div class="pilwrap" id="nacl.box.keypair">
  <h4>
    <a href="#nacl.box.keypair" name="nacl.box.keypair" class="pilcrow"></a>
nacl.box.keyPair()
  </h4>
</div>
<p>Generates a new random key pair for box and returns it as an object with
<code>publicKey</code> and <code>secretKey</code> members:</p>
<pre><code>{
   publicKey: ...,  // Uint8Array with 32-byte public key
   secretKey: ...   // Uint8Array with 32-byte secret key
}
</code></pre>
<div class="pilwrap" id="nacl.box.keypair.fromsecretkey-secretkey">
  <h4>
    <a href="#nacl.box.keypair.fromsecretkey-secretkey" name="nacl.box.keypair.fromsecretkey-secretkey" class="pilcrow"></a>
nacl.box.keyPair.fromSecretKey(secretKey)
  </h4>
</div>
<p>Returns a key pair for box with public key corresponding to the given secret
key.</p>
<div class="pilwrap" id="nacl.box-message-nonce-theirpublickey-mysecretkey">
  <h4>
    <a href="#nacl.box-message-nonce-theirpublickey-mysecretkey" name="nacl.box-message-nonce-theirpublickey-mysecretkey" class="pilcrow"></a>
nacl.box(message, nonce, theirPublicKey, mySecretKey)
  </h4>
</div>
<p>Encrypt and authenticates message using peer's public key, our secret key, and
the given nonce, which must be unique for each distinct message for a key pair.</p>
<p>Returns an encrypted and authenticated message, which is
<code>nacl.box.overheadLength</code> longer than the original message.</p>
<div class="pilwrap" id="nacl.box.open-box-nonce-theirpublickey-mysecretkey">
  <h4>
    <a href="#nacl.box.open-box-nonce-theirpublickey-mysecretkey" name="nacl.box.open-box-nonce-theirpublickey-mysecretkey" class="pilcrow"></a>
nacl.box.open(box, nonce, theirPublicKey, mySecretKey)
  </h4>
</div>
<p>Authenticates and decrypts the given box with peer's public key, our secret
key, and the given nonce.</p>
<p>Returns the original message, or <code>false</code> if authentication fails.</p>
<div class="pilwrap" id="nacl.box.before-theirpublickey-mysecretkey">
  <h4>
    <a href="#nacl.box.before-theirpublickey-mysecretkey" name="nacl.box.before-theirpublickey-mysecretkey" class="pilcrow"></a>
nacl.box.before(theirPublicKey, mySecretKey)
  </h4>
</div>
<p>Returns a precomputed shared key which can be used in <code>nacl.box.after</code> and
<code>nacl.box.open.after</code>.</p>
<div class="pilwrap" id="nacl.box.after-message-nonce-sharedkey">
  <h4>
    <a href="#nacl.box.after-message-nonce-sharedkey" name="nacl.box.after-message-nonce-sharedkey" class="pilcrow"></a>
nacl.box.after(message, nonce, sharedKey)
  </h4>
</div>
<p>Same as <code>nacl.box</code>, but uses a shared key precomputed with <code>nacl.box.before</code>.</p>
<div class="pilwrap" id="nacl.box.open.after-box-nonce-sharedkey">
  <h4>
    <a href="#nacl.box.open.after-box-nonce-sharedkey" name="nacl.box.open.after-box-nonce-sharedkey" class="pilcrow"></a>
nacl.box.open.after(box, nonce, sharedKey)
  </h4>
</div>
<p>Same as <code>nacl.box.open</code>, but uses a shared key precomputed with <code>nacl.box.before</code>.</p>
<div class="pilwrap" id="nacl.box.publickeylength-32">
  <h4>
    <a href="#nacl.box.publickeylength-32" name="nacl.box.publickeylength-32" class="pilcrow"></a>
nacl.box.publicKeyLength = 32
  </h4>
</div>
<p>Length of public key in bytes.</p>
<div class="pilwrap" id="nacl.box.secretkeylength-32">
  <h4>
    <a href="#nacl.box.secretkeylength-32" name="nacl.box.secretkeylength-32" class="pilcrow"></a>
nacl.box.secretKeyLength = 32
  </h4>
</div>
<p>Length of secret key in bytes.</p>
<div class="pilwrap" id="nacl.box.sharedkeylength-32">
  <h4>
    <a href="#nacl.box.sharedkeylength-32" name="nacl.box.sharedkeylength-32" class="pilcrow"></a>
nacl.box.sharedKeyLength = 32
  </h4>
</div>
<p>Length of precomputed shared key in bytes.</p>
<div class="pilwrap" id="nacl.box.noncelength-24">
  <h4>
    <a href="#nacl.box.noncelength-24" name="nacl.box.noncelength-24" class="pilcrow"></a>
nacl.box.nonceLength = 24
  </h4>
</div>
<p>Length of nonce in bytes.</p>
<div class="pilwrap" id="nacl.box.overheadlength-16">
  <h4>
    <a href="#nacl.box.overheadlength-16" name="nacl.box.overheadlength-16" class="pilcrow"></a>
nacl.box.overheadLength = 16
  </h4>
</div>
<p>Length of overhead added to box compared to original message.</p>
<div class="pilwrap" id="secret-key-authenticated-encryption-secretbox">
  <h3>
    <a href="#secret-key-authenticated-encryption-secretbox" name="secret-key-authenticated-encryption-secretbox" class="pilcrow"></a>
Secret-key authenticated encryption (secretbox)
  </h3>
</div>
<p>Implements <em>xsalsa20-poly1305</em>.</p>
<div class="pilwrap" id="nacl.secretbox-message-nonce-key">
  <h4>
    <a href="#nacl.secretbox-message-nonce-key" name="nacl.secretbox-message-nonce-key" class="pilcrow"></a>
nacl.secretbox(message, nonce, key)
  </h4>
</div>
<p>Encrypt and authenticates message using the key and the nonce. The nonce must
be unique for each distinct message for this key.</p>
<p>Returns an encrypted and authenticated message, which is
<code>nacl.secretbox.overheadLength</code> longer than the original message.</p>
<div class="pilwrap" id="nacl.secretbox.open-box-nonce-key">
  <h4>
    <a href="#nacl.secretbox.open-box-nonce-key" name="nacl.secretbox.open-box-nonce-key" class="pilcrow"></a>
nacl.secretbox.open(box, nonce, key)
  </h4>
</div>
<p>Authenticates and decrypts the given secret box using the key and the nonce.</p>
<p>Returns the original message, or <code>false</code> if authentication fails.</p>
<div class="pilwrap" id="nacl.secretbox.keylength-32">
  <h4>
    <a href="#nacl.secretbox.keylength-32" name="nacl.secretbox.keylength-32" class="pilcrow"></a>
nacl.secretbox.keyLength = 32
  </h4>
</div>
<p>Length of key in bytes.</p>
<div class="pilwrap" id="nacl.secretbox.noncelength-24">
  <h4>
    <a href="#nacl.secretbox.noncelength-24" name="nacl.secretbox.noncelength-24" class="pilcrow"></a>
nacl.secretbox.nonceLength = 24
  </h4>
</div>
<p>Length of nonce in bytes.</p>
<div class="pilwrap" id="nacl.secretbox.overheadlength-16">
  <h4>
    <a href="#nacl.secretbox.overheadlength-16" name="nacl.secretbox.overheadlength-16" class="pilcrow"></a>
nacl.secretbox.overheadLength = 16
  </h4>
</div>
<p>Length of overhead added to secret box compared to original message.</p>
<div class="pilwrap" id="scalar-multiplication">
  <h3>
    <a href="#scalar-multiplication" name="scalar-multiplication" class="pilcrow"></a>
Scalar multiplication
  </h3>
</div>
<p>Implements <em>curve25519</em>.</p>
<div class="pilwrap" id="nacl.scalarmult-n-p">
  <h4>
    <a href="#nacl.scalarmult-n-p" name="nacl.scalarmult-n-p" class="pilcrow"></a>
nacl.scalarMult(n, p)
  </h4>
</div>
<p>Multiplies an integer <code>n</code> by a group element <code>p</code> and returns the resulting
group element.</p>
<div class="pilwrap" id="nacl.scalarmult.base-n">
  <h4>
    <a href="#nacl.scalarmult.base-n" name="nacl.scalarmult.base-n" class="pilcrow"></a>
nacl.scalarMult.base(n)
  </h4>
</div>
<p>Multiplies an integer <code>n</code> by a standard group element and returns the resulting
group element.</p>
<div class="pilwrap" id="nacl.scalarmult.scalarlength-32">
  <h4>
    <a href="#nacl.scalarmult.scalarlength-32" name="nacl.scalarmult.scalarlength-32" class="pilcrow"></a>
nacl.scalarMult.scalarLength = 32
  </h4>
</div>
<p>Length of scalar in bytes.</p>
<div class="pilwrap" id="nacl.scalarmult.groupelementlength-32">
  <h4>
    <a href="#nacl.scalarmult.groupelementlength-32" name="nacl.scalarmult.groupelementlength-32" class="pilcrow"></a>
nacl.scalarMult.groupElementLength = 32
  </h4>
</div>
<p>Length of group element in bytes.</p>
<div class="pilwrap" id="signatures">
  <h3>
    <a href="#signatures" name="signatures" class="pilcrow"></a>
Signatures
  </h3>
</div>
<p>Implements <a href="http://ed25519.cr.yp.to">ed25519</a>.</p>
<div class="pilwrap" id="nacl.sign.keypair">
  <h4>
    <a href="#nacl.sign.keypair" name="nacl.sign.keypair" class="pilcrow"></a>
nacl.sign.keyPair()
  </h4>
</div>
<p>Generates new random key pair for signing and returns it as an object with
<code>publicKey</code> and <code>secretKey</code> members:</p>
<pre><code>{
   publicKey: ...,  // Uint8Array with 32-byte public key
   secretKey: ...   // Uint8Array with 64-byte secret key
}
</code></pre>
<div class="pilwrap" id="nacl.sign.keypair.fromsecretkey-secretkey">
  <h4>
    <a href="#nacl.sign.keypair.fromsecretkey-secretkey" name="nacl.sign.keypair.fromsecretkey-secretkey" class="pilcrow"></a>
nacl.sign.keyPair.fromSecretKey(secretKey)
  </h4>
</div>
<p>Returns a signing key pair with public key corresponding to the given
64-byte secret key. The secret key must have been generated by
<code>nacl.sign.keyPair</code> or <code>nacl.sign.keyPair.fromSeed</code>.</p>
<div class="pilwrap" id="nacl.sign.keypair.fromseed-seed">
  <h4>
    <a href="#nacl.sign.keypair.fromseed-seed" name="nacl.sign.keypair.fromseed-seed" class="pilcrow"></a>
nacl.sign.keyPair.fromSeed(seed)
  </h4>
</div>
<p>Returns a new signing key pair generated deterministically from a 32-byte seed.
The seed must contain enough entropy to be secure. This method is not
recommended for general use: instead, use <code>nacl.sign.keyPair</code> to generate a new
key pair from a random seed.</p>
<div class="pilwrap" id="nacl.sign-message-secretkey">
  <h4>
    <a href="#nacl.sign-message-secretkey" name="nacl.sign-message-secretkey" class="pilcrow"></a>
nacl.sign(message, secretKey)
  </h4>
</div>
<p>Signs the message using the secret key and returns a signed message.</p>
<div class="pilwrap" id="nacl.sign.open-signedmessage-publickey">
  <h4>
    <a href="#nacl.sign.open-signedmessage-publickey" name="nacl.sign.open-signedmessage-publickey" class="pilcrow"></a>
nacl.sign.open(signedMessage, publicKey)
  </h4>
</div>
<p>Verifies the signed message and returns the message without signature.</p>
<p>Returns <code>null</code> if verification failed.</p>
<div class="pilwrap" id="nacl.sign.detached-message-secretkey">
  <h4>
    <a href="#nacl.sign.detached-message-secretkey" name="nacl.sign.detached-message-secretkey" class="pilcrow"></a>
nacl.sign.detached(message, secretKey)
  </h4>
</div>
<p>Signs the message using the secret key and returns a signature.</p>
<div class="pilwrap" id="nacl.sign.detached.verify-message-signature-publickey">
  <h4>
    <a href="#nacl.sign.detached.verify-message-signature-publickey" name="nacl.sign.detached.verify-message-signature-publickey" class="pilcrow"></a>
nacl.sign.detached.verify(message, signature, publicKey)
  </h4>
</div>
<p>Verifies the signature for the message and returns <code>true</code> if verification
succeeded or <code>false</code> if it failed.</p>
<div class="pilwrap" id="nacl.sign.publickeylength-32">
  <h4>
    <a href="#nacl.sign.publickeylength-32" name="nacl.sign.publickeylength-32" class="pilcrow"></a>
nacl.sign.publicKeyLength = 32
  </h4>
</div>
<p>Length of signing public key in bytes.</p>
<div class="pilwrap" id="nacl.sign.secretkeylength-64">
  <h4>
    <a href="#nacl.sign.secretkeylength-64" name="nacl.sign.secretkeylength-64" class="pilcrow"></a>
nacl.sign.secretKeyLength = 64
  </h4>
</div>
<p>Length of signing secret key in bytes.</p>
<div class="pilwrap" id="nacl.sign.seedlength-32">
  <h4>
    <a href="#nacl.sign.seedlength-32" name="nacl.sign.seedlength-32" class="pilcrow"></a>
nacl.sign.seedLength = 32
  </h4>
</div>
<p>Length of seed for <code>nacl.sign.keyPair.fromSeed</code> in bytes.</p>
<div class="pilwrap" id="nacl.sign.signaturelength-64">
  <h4>
    <a href="#nacl.sign.signaturelength-64" name="nacl.sign.signaturelength-64" class="pilcrow"></a>
nacl.sign.signatureLength = 64
  </h4>
</div>
<p>Length of signature in bytes.</p>
<div class="pilwrap" id="hashing">
  <h3>
    <a href="#hashing" name="hashing" class="pilcrow"></a>
Hashing
  </h3>
</div>
<p>Implements <em>SHA-512</em>.</p>
<div class="pilwrap" id="nacl.hash-message">
  <h4>
    <a href="#nacl.hash-message" name="nacl.hash-message" class="pilcrow"></a>
nacl.hash(message)
  </h4>
</div>
<p>Returns SHA-512 hash of the message.</p>
<div class="pilwrap" id="nacl.hash.hashlength-64">
  <h4>
    <a href="#nacl.hash.hashlength-64" name="nacl.hash.hashlength-64" class="pilcrow"></a>
nacl.hash.hashLength = 64
  </h4>
</div>
<p>Length of hash in bytes.</p>
<div class="pilwrap" id="random-bytes-generation">
  <h3>
    <a href="#random-bytes-generation" name="random-bytes-generation" class="pilcrow"></a>
Random bytes generation
  </h3>
</div>
<div class="pilwrap" id="nacl.randombytes-length">
  <h4>
    <a href="#nacl.randombytes-length" name="nacl.randombytes-length" class="pilcrow"></a>
nacl.randomBytes(length)
  </h4>
</div>
<p>Returns a <code>Uint8Array</code> of the given length containing random bytes of
cryptographic quality.</p>
<p><strong>Implementation note</strong></p>
<p>TweetNaCl.js uses the following methods to generate random bytes,
depending on the platform it runs on:</p>
<ul>
<li><code>window.crypto.getRandomValues</code> (WebCrypto standard)</li>
<li><code>window.msCrypto.getRandomValues</code> (Internet Explorer 11)</li>
<li><code>crypto.randomBytes</code> (Node.js)</li>
</ul>
<p>If the platform doesn't provide a suitable PRNG, the following functions,
which require random numbers, will throw exception:</p>
<ul>
<li><code>nacl.randomBytes</code></li>
<li><code>nacl.box.keyPair</code></li>
<li><code>nacl.sign.keyPair</code></li>
</ul>
<p>Other functions are deterministic and will continue working.</p>
<p>If a platform you are targeting doesn't implement secure random number
generator, but you somehow have a cryptographically-strong source of entropy
(not <code>Math.random</code>!), and you know what you are doing, you can plug it into
TweetNaCl.js like this:</p>
<pre><code>nacl.setPRNG(function(x, n) {
  // ... copy n random bytes into x ...
});
</code></pre>
<p>Note that <code>nacl.setPRNG</code> <em>completely replaces</em> internal random byte generator
with the one provided.</p>
<div class="pilwrap" id="constant-time-comparison">
  <h3>
    <a href="#constant-time-comparison" name="constant-time-comparison" class="pilcrow"></a>
Constant-time comparison
  </h3>
</div>
<div class="pilwrap" id="nacl.verify-x-y">
  <h4>
    <a href="#nacl.verify-x-y" name="nacl.verify-x-y" class="pilcrow"></a>
nacl.verify(x, y)
  </h4>
</div>
<p>Compares <code>x</code> and <code>y</code> in constant time and returns <code>true</code> if their lengths are
non-zero and equal, and their contents are equal.</p>
<p>Returns <code>false</code> if either of the arguments has zero length, or arguments have
different lengths, or their contents differ.</p>
<div class="pilwrap" id="system-requirements">
  <h2>
    <a href="#system-requirements" name="system-requirements" class="pilcrow"></a>
System requirements
  </h2>
</div>
<p>TweetNaCl.js supports modern browsers that have a cryptographically secure
pseudorandom number generator and typed arrays, including the latest versions
of:</p>
<ul>
<li>Chrome</li>
<li>Firefox</li>
<li>Safari (Mac, iOS)</li>
<li>Internet Explorer 11</li>
</ul>
<p>Other systems:</p>
<ul>
<li>Node.js</li>
</ul>
<div class="pilwrap" id="development-and-testing">
  <h2>
    <a href="#development-and-testing" name="development-and-testing" class="pilcrow"></a>
Development and testing
  </h2>
</div>
<p>Install NPM modules needed for development:</p>
<pre><code>$ npm install
</code></pre>
<p>To build minified versions:</p>
<pre><code>$ npm run build
</code></pre>
<p>Tests use minified version, so make sure to rebuild it every time you change
<code>nacl.js</code> or <code>nacl-fast.js</code>.</p>
<div class="pilwrap" id="testing">
  <h3>
    <a href="#testing" name="testing" class="pilcrow"></a>
Testing
  </h3>
</div>
<p>To run tests in Node.js:</p>
<pre><code>$ npm run test-node
</code></pre>
<p>By default all tests described here work on <code>nacl.min.js</code>. To test other
versions, set environment variable <code>NACL_SRC</code> to the file name you want to test.
For example, the following command will test fast minified version:</p>
<pre><code>$ NACL_SRC=nacl-fast.min.js npm run test-node
</code></pre>
<p>To run full suite of tests in Node.js, including comparing outputs of
JavaScript port to outputs of the original C version:</p>
<pre><code>$ npm run test-node-all
</code></pre>
<p>To prepare tests for browsers:</p>
<pre><code>$ npm run build-test-browser
</code></pre>
<p>and then open <code>test/browser/test.html</code> (or <code>test/browser/test-fast.html</code>) to
run them.</p>
<p>To run headless browser tests with <code>tape-run</code> (powered by Electron):</p>
<pre><code>$ npm run test-browser
</code></pre>
<p>(If you get <code>Error: spawn ENOENT</code>, install <em>xvfb</em>: <code>sudo apt-get install xvfb</code>.)</p>
<p>To run tests in both Node and Electron:</p>
<pre><code>$ npm test
</code></pre>
<div class="pilwrap" id="benchmarking">
  <h3>
    <a href="#benchmarking" name="benchmarking" class="pilcrow"></a>
Benchmarking
  </h3>
</div>
<p>To run benchmarks in Node.js:</p>
<pre><code>$ npm run bench
$ NACL_SRC=nacl-fast.min.js npm run bench
</code></pre>
<p>To run benchmarks in a browser, open <code>test/benchmark/bench.html</code> (or
<code>test/benchmark/bench-fast.html</code>).</p>
<div class="pilwrap" id="benchmarks">
  <h2>
    <a href="#benchmarks" name="benchmarks" class="pilcrow"></a>
Benchmarks
  </h2>
</div>
<p>For reference, here are benchmarks from MacBook Pro (Retina, 13-inch, Mid 2014)
laptop with 2.6 GHz Intel Core i5 CPU (Intel) in Chrome 53/OS X and Xiaomi Redmi
Note 3 smartphone with 1.8 GHz Qualcomm Snapdragon 650 64-bit CPU (ARM) in
Chrome 52/Android:</p>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">nacl.js Intel</th>
<th style="text-align:center">nacl-fast.js Intel</th>
<th style="text-align:center">nacl.js ARM</th>
<th style="text-align:center">nacl-fast.js ARM</th>
</tr>
</thead>
<tbody>
<tr>
<td>salsa20</td>
<td style="text-align:center">1.3 MB/s</td>
<td style="text-align:center">128 MB/s</td>
<td style="text-align:center">0.4 MB/s</td>
<td style="text-align:center">43 MB/s</td>
</tr>
<tr>
<td>poly1305</td>
<td style="text-align:center">13 MB/s</td>
<td style="text-align:center">171 MB/s</td>
<td style="text-align:center">4 MB/s</td>
<td style="text-align:center">52 MB/s</td>
</tr>
<tr>
<td>hash</td>
<td style="text-align:center">4 MB/s</td>
<td style="text-align:center">34 MB/s</td>
<td style="text-align:center">0.9 MB/s</td>
<td style="text-align:center">12 MB/s</td>
</tr>
<tr>
<td>secretbox 1K</td>
<td style="text-align:center">1113 op/s</td>
<td style="text-align:center">57583 op/s</td>
<td style="text-align:center">334 op/s</td>
<td style="text-align:center">14227 op/s</td>
</tr>
<tr>
<td>box 1K</td>
<td style="text-align:center">145 op/s</td>
<td style="text-align:center">718 op/s</td>
<td style="text-align:center">37 op/s</td>
<td style="text-align:center">368 op/s</td>
</tr>
<tr>
<td>scalarMult</td>
<td style="text-align:center">171 op/s</td>
<td style="text-align:center">733 op/s</td>
<td style="text-align:center">56 op/s</td>
<td style="text-align:center">380 op/s</td>
</tr>
<tr>
<td>sign</td>
<td style="text-align:center">77  op/s</td>
<td style="text-align:center">200 op/s</td>
<td style="text-align:center">20 op/s</td>
<td style="text-align:center">61 op/s</td>
</tr>
<tr>
<td>sign.open</td>
<td style="text-align:center">39  op/s</td>
<td style="text-align:center">102  op/s</td>
<td style="text-align:center">11 op/s</td>
<td style="text-align:center">31 op/s</td>
</tr>
</tbody>
</table>
<p>(You can run benchmarks on your devices by clicking on the links at the bottom
of the <a href="https://tweetnacl.js.org">home page</a>).</p>
<p>In short, with <em>nacl-fast.js</em> and 1024-byte messages you can expect to encrypt and
authenticate more than 57000 messages per second on a typical laptop or more than
14000 messages per second on a $170 smartphone, sign about 200 and verify 100
messages per second on a laptop or 60 and 30 messages per second on a smartphone,
per CPU core (with Web Workers you can do these operations in parallel),
which is good enough for most applications.</p>
<div class="pilwrap" id="contributors">
  <h2>
    <a href="#contributors" name="contributors" class="pilcrow"></a>
Contributors
  </h2>
</div>
<p>See AUTHORS.md file.</p>
<div class="pilwrap" id="third-party-libraries-based-on-tweetnacl.js">
  <h2>
    <a href="#third-party-libraries-based-on-tweetnacl.js" name="third-party-libraries-based-on-tweetnacl.js" class="pilcrow"></a>
Third-party libraries based on TweetNaCl.js
  </h2>
</div>
<ul>
<li><a href="https://github.com/alax/forward-secrecy">forward-secrecy</a> — Axolotl ratchet implementation</li>
<li><a href="https://github.com/dchest/nacl-stream-js">nacl-stream</a> - streaming encryption</li>
<li><a href="https://github.com/dchest/tweetnacl-auth-js">tweetnacl-auth-js</a> — implementation of <a href="http://nacl.cr.yp.to/auth.html"><code>crypto_auth</code></a></li>
<li><a href="https://github.com/dominictarr/chloride">chloride</a> - unified API for various NaCl modules</li>
</ul>
<div class="pilwrap" id="who-uses-it">
  <h2>
    <a href="#who-uses-it" name="who-uses-it" class="pilcrow"></a>
Who uses it
  </h2>
</div>
<p>Some notable users of TweetNaCl.js:</p>
<ul>
<li><a href="http://minilock.io/">miniLock</a></li>
<li><a href="https://www.stellar.org/">Stellar</a></li>
</ul>
</div>
  </div>
</body>
</html>
